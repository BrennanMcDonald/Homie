{"ast":null,"code":"var _jsxFileName = \"/home/brennan/homepage/src/components/Layout.js\";\nimport React from 'react';\nimport Grid from './Grid';\nexport default class Layout extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleKeyPress = event => {\n      if (event.keyCode === 46) {\n        var id_to_delete = this.state.selected[this.state.selected.length - 1];\n        var layout = this.state.layout.filter(x => x.i !== id_to_delete);\n        var selected = this.state.selected.filter(x => x.i !== id_to_delete);\n        this.setState({\n          layout: layout,\n          selected: this.state.selected[this.state.selected.length - 1]\n        });\n      }\n    };\n\n    document.onkeypress = this.handleKeyPress;\n    this.state = {\n      layout: [],\n      selected: []\n    };\n  }\n\n  makeid(length) {\n    var result = '';\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n  }\n\n  addElement() {\n    var layout = this.state.layout;\n    var id = this.makeid(5);\n    layout.push({\n      i: id,\n      x: 4,\n      y: 0,\n      w: 1,\n      h: 2\n    });\n    this.setState({\n      layout: layout,\n      selected: this.addToSelectQueue(id)\n    });\n  }\n\n  addSpace() {\n    var layout = this.state.layout;\n    var id = \"SP-\" + this.makeid(5);\n    layout.push({\n      i: id,\n      x: 4,\n      y: 0,\n      w: 1,\n      h: 2\n    });\n    this.setState({\n      layout: layout,\n      selected: this.addToSelectQueue(id)\n    });\n  }\n\n  save() {\n    console.log(this.state.layout);\n  }\n\n  load() {\n    var json_in = prompt(\"Enter JSON Data:\", \"[]\");\n\n    if (json_in != null) {\n      this.setState({\n        layout: JSON.parse(json_in)\n      });\n    }\n  }\n\n  layoutChangeHandler(layout) {\n    this.setState({\n      layout: layout\n    });\n  }\n\n  addToSelectQueue(elem) {\n    var selected = this.state.selected;\n    selected.push(elem);\n    return selected;\n  }\n\n  selectElement(elem) {\n    this.setState({\n      selected: this.addToSelectQueue(elem)\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      onKeyDown: this.handleKeyPress.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.addElement.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"+\"), React.createElement(\"button\", {\n      onClick: this.addSpace.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"+ Space\"), React.createElement(\"button\", {\n      onClick: this.save.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Save\"), React.createElement(\"button\", {\n      onClick: this.load.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Loads\"), React.createElement(Grid, {\n      onLayoutChange: this.layoutChangeHandler.bind(this),\n      layout: this.state.layout,\n      selected: this.state.selected,\n      elementSelector: this.selectElement.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/brennan/homepage/src/components/Layout.js"],"names":["React","Grid","Layout","Component","constructor","props","handleKeyPress","event","keyCode","id_to_delete","state","selected","length","layout","filter","x","i","setState","document","onkeypress","makeid","result","characters","charactersLength","charAt","Math","floor","random","addElement","id","push","y","w","h","addToSelectQueue","addSpace","save","console","log","load","json_in","prompt","JSON","parse","layoutChangeHandler","elem","selectElement","render","bind"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Grid from './Grid'\n\nexport default class Layout extends React.Component {\n  constructor(props) {\n    super(props);\n    document.onkeypress = this.handleKeyPress\n    this.state = {\n      layout: [],\n      selected: []\n    }\n  }\n\n  makeid(length) {\n    var result           = '';\n    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < length; i++ ) {\n       result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  }\n \n  addElement() {\n    var layout = this.state.layout;\n    var id = this.makeid(5);\n    layout.push({i: id, x: 4, y: 0, w: 1, h: 2});\n    this.setState({\n      layout: layout,\n      selected: this.addToSelectQueue(id)\n    })\n  }\n \n  addSpace() {\n    var layout = this.state.layout;\n    var id = \"SP-\"+this.makeid(5);\n    layout.push({i: id, x: 4, y: 0, w: 1, h: 2});\n    this.setState({\n      layout: layout,\n      selected: this.addToSelectQueue(id)\n    })\n  }\n\n  save() {\n    console.log(this.state.layout)\n  }\n\n  load() {\n    var json_in = prompt(\"Enter JSON Data:\", \"[]\");\n    if (json_in != null) {\n      this.setState({\n        layout: JSON.parse(json_in)\n      })\n    } \n  }\n  \n  layoutChangeHandler(layout) {\n    this.setState({\n      layout: layout\n    })\n  }\n\n  addToSelectQueue(elem) {\n    var selected = this.state.selected;\n    selected.push(elem);\n    return selected;\n  }\n\n  selectElement(elem) {\n    this.setState({\n      selected: this.addToSelectQueue(elem)\n    });\n  }\n\n  handleKeyPress = (event) => {\n    if(event.keyCode === 46) {\n      var id_to_delete = this.state.selected[this.state.selected.length-1];\n      var layout = this.state.layout.filter(x => x.i !== id_to_delete);\n      var selected = this.state.selected.filter(x => x.i !== id_to_delete)\n      this.setState({\n        layout: layout,\n        selected: this.state.selected[this.state.selected.length-1]\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div onKeyDown={this.handleKeyPress.bind(this)}>\n        <button onClick={this.addElement.bind(this)}>+</button>\n        <button onClick={this.addSpace.bind(this)}>+ Space</button>\n        <button onClick={this.save.bind(this)}>Save</button>\n        <button onClick={this.load.bind(this)}>Loads</button>\n        <Grid\n          onLayoutChange={this.layoutChangeHandler.bind(this)}\n          layout={this.state.layout}\n          selected={this.state.selected}\n          elementSelector={this.selectElement.bind(this)}/>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}